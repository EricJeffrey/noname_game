
### 状态机

初始为游戏状态

- 游戏状态
  - 鼠标移动到棋子上显示高亮绿色
  - 点击己方某个棋子，棋子高亮，进入**选中**状态
- 选中状态
  - 鼠标移动到坐标或棋子上
    - 若坐标可达显示蓝色方框
    - 若棋子为敌方且坐标可达，显示红色高亮
  - 鼠标点击坐标或棋子
    - 若坐标可达，将选中的棋子移动到坐标
    - 若棋子为选中的棋子，回到**游戏**状态
    - 若棋子为敌方且坐标可达，将选中的棋子移动到坐标，被点击的敌方棋子**爆炸**
    - 判断是否在将军，若是，进入**将军状态**
    - 否则，进入**游戏**状态
- 将军状态
  - 鼠标移动到棋子上显示高亮绿色
  - 点击己方某个棋子进入**护驾**状态
- 护驾状态
  - 鼠标移动到坐标或棋子上
    - 若坐标可达，则显示蓝色方框
    - 若棋子为敌方，坐标可达，显示红色高亮
  - 点击被选中的棋子回到**将军**状态
  - 鼠标点击坐标或棋子
    - 若坐标可达，且移动到此能够**解除将军**，将选中的棋子移动到坐标；进入**游戏**状态
    - 否则，提示将军中
    - 若棋子为敌方，坐标可达，且吃掉棋子能够**解除将军**，将选中的棋子移动到坐标，被点击的敌方棋子**爆炸**；进入**游戏**状态
    - 否则，提示将军中

### 需要的功能

- 游戏机制功能
  - 记录当前步的阵营 -> 红/蓝
  - 判断坐标A的棋子能否移动到坐标B
  - 将坐标A的棋子移动到坐标B
  - 将坐标B的棋子送去所属阵营的墓地
  - 判断是否处于红/蓝阵营将军状态
  - 判断将坐标A的棋子移动到坐标B能否解除将军状态
- 游戏UI功能
  - 坐标A的棋子显示绿色/红色高亮
  - 坐标A的位置显示蓝色高亮
  - 坐标A的棋子移动到坐标B
  - 坐标A的棋子爆炸
  - 显示红/蓝色将军